import{L as t}from"./lenis-CfsBQfFC.js";document.addEventListener("DOMContentLoaded",function(){const e=()=>window.innerWidth<768;let i=null;if(!e()){let e=function(t){i.raf(t),requestAnimationFrame(e)};i=new t({duration:2,easing:t=>1-Math.pow(1-t,4),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1,touchMultiplier:1.5,wheelMultiplier:.8}),requestAnimationFrame(e)}const o=document.querySelector(".inf-work_list"),s=document.querySelector(".work-layout");let n=Array.from(document.querySelectorAll(".inf-work_item")),r=[],l=[],a=[],c=!1,d=!1,u=0,m=0,f=0,h=0,y=0,v=0,g=!1;const p=()=>{r=Array.from(document.querySelectorAll(".inf-work_item")),n=r,l=r.filter((t,e)=>e%2==0),a=r.filter((t,e)=>e%2==1)};p();const L=t=>{t.forEach(t=>{t.style.transform=""})},w=(t,i)=>{e()||!d||c||i.forEach((e,i)=>{const o=((i*h+t)%y+y)%y-h;e.style.transform=`translate(0px, ${o}px)`})},E=document.querySelectorAll(".grid-toggle_item[data-filter]");E.forEach(t=>{t.addEventListener("click",function(t){const i=this.getAttribute("data-filter");if("all"!==i&&"a"===this.tagName.toLowerCase())return;t.preventDefault(),E.forEach(t=>t.classList.remove("is-active")),this.classList.add("is-active");const s=Array.from(document.querySelectorAll(".inf-work_item"));"all"===i?(s.forEach(t=>{t.style.display=""}),(()=>{if(o&&(c=!1,o.classList.remove("filtered-layout"),!e())){p();const t=a;d&&(w(m,l),w(f,t))}})()):(o&&(c=!0,L(n),o.classList.add("filtered-layout"),o.classList.remove("simple-layout")),s.forEach(t=>{t.classList.contains("category-"+i)?t.style.display="":t.style.display="none"}));const r=document.querySelector(".photos_total");if(r){const t=document.querySelectorAll('.inf-work_item:not([style*="display: none"])');r.textContent=t.length}})});const A=document.querySelector(".menu-btn"),q=document.querySelector(".menu-close"),S=document.querySelector(".menu-component");function b(){S&&(S.classList.remove("is-open"),document.body.style.overflow="",i&&i.start())}A&&A.addEventListener("click",function(){S&&(S.classList.add("is-open"),document.body.style.overflow="hidden",i&&i.stop())}),q&&q.addEventListener("click",b),document.addEventListener("keydown",function(t){"Escape"===t.key&&b()});document.querySelectorAll(".mega-menu_link.is-current").forEach(t=>{t.addEventListener("click",function(t){t.preventDefault(),b()})});const k=document.querySelector(".page-transition");let _;(()=>{const t=document.querySelectorAll(".inf-work_item img"),e=window.innerHeight;t.forEach(t=>{const i=t.getBoundingClientRect();i.top<e&&i.bottom>0&&(t.setAttribute("fetchpriority","high"),t.removeAttribute("loading"))})})(),(()=>{if(p(),!o||0===n.length||e())return void(o&&(o.classList.add("simple-layout"),L(n)));(()=>{if(!o||0===n.length)return;const t=Array.from(document.querySelectorAll(".inf-work_item:not(.is-clone)")),e=t.length;if(e>=8)return;if(0===e)return;const i=Math.ceil(8/e)*e-e;for(let s=0;s<i;s++){const i=t[s%e].cloneNode(!0);i.classList.add("is-clone"),i.removeAttribute("id"),o.appendChild(i)}p()})();const t=r,i=l,E=a;if(t.length<4)return o.classList.add("simple-layout"),void t.forEach(t=>t.classList.add("is-visible"));d=!0,o.classList.remove("simple-layout"),o.classList.remove("filtered-layout"),h=t[0].clientHeight||400,y=t.length/2*h,w(0,i),w(0,E),t.forEach(t=>t.classList.add("is-visible"));const A=t=>{e()||!d||c||(u-=t.deltaY,g=!0)};s&&(s.removeEventListener("wheel",A),s.addEventListener("wheel",A,{passive:!0}));const q=()=>{if(e()||!d||c)return void setTimeout(()=>requestAnimationFrame(q),500);const t=Math.abs(u-v),i=Math.abs(u-m)+Math.abs(u-f);if(t>.1||i>.5||g){g=!1,v=u;const t=a;m+=.09*(u-m),f+=.08*(u-f),w(m,l),w(f,t)}requestAnimationFrame(q)};q()})(),(()=>{const t=document.querySelectorAll("[data-inf-item]"),i=document.querySelector(".image-grid-info_holder"),s=document.querySelector("[data-image-grid-title]"),n=document.querySelector("[data-image-grid-copy]");t.forEach(r=>{if(r.dataset.hoverSetup)return;r.dataset.hoverSetup="true";const l=r.getAttribute("data-work-title")||"",a=r.getAttribute("data-work-copy")||"";r.addEventListener("mouseenter",function(){e()||(this.classList.add("highlight"),o&&o.classList.add("has-hover"),i&&i.classList.add("show"),s&&(s.textContent=l),n&&(n.textContent=a))}),r.addEventListener("mouseleave",function(){e()||(this.classList.remove("highlight"),o&&o.classList.remove("has-hover"),i&&i.classList.remove("show"))}),r.addEventListener("click",function(i){if(!e())return;this.classList.contains("show-description")||(i.preventDefault(),t.forEach(t=>{t.classList.remove("show-description")}),this.classList.add("show-description"))})})})(),document.querySelectorAll(".inf-work_link").forEach(t=>{t.dataset.transitionSetup||(t.dataset.transitionSetup="true",t.addEventListener("click",function(t){if(e()){const t=this.closest(".inf-work_item");if(!t||!t.classList.contains("show-description"))return}t.preventDefault();const i=this.getAttribute("href");k?(k.classList.add("is-active"),setTimeout(()=>{window.location.href=i},600)):window.location.href=i}))}),(()=>{const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".inf-work_item").forEach(e=>{e.classList.contains("is-visible")||((t=>{const e=t.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0})(e)?e.classList.add("is-visible"):t.observe(e))})})(),window.addEventListener("resize",()=>{clearTimeout(_),_=setTimeout(()=>{if(e())L(n),null==o||o.classList.add("simple-layout");else if(!c&&(p(),r[0])){const t=r[0].clientHeight;t>0&&(h=t,y=r.length/2*h,g=!0)}},100)}),r.forEach(t=>{t.style.willChange="transform"})});
