import{L as e}from"./lenis-CfsBQfFC.js";const n=new Set;let t=null;function i(){if(navigator.connection){if(navigator.connection.saveData)return!0;if("slow-2g"===navigator.connection.effectiveType||"2g"===navigator.connection.effectiveType)return!0}return!1}function o(e){if(!e||n.has(e))return!1;try{const n=new URL(e,window.location.origin);if(n.origin!==window.location.origin)return!1;if(n.pathname===window.location.pathname)return!1;if(""===n.pathname&&n.hash)return!1;const t=[".jpg",".jpeg",".png",".gif",".webp",".avif",".svg",".pdf",".zip",".mp4",".mp3",".css",".js"],i=n.pathname.toLowerCase();return!t.some(e=>i.endsWith(e))&&(!i.startsWith("/admin")&&!i.startsWith("/api/"))}catch{return!1}}function s(e){if(n.has(e))return;const t=document.createElement("link");t.rel="prefetch",t.href=e,t.as="document",document.head.appendChild(t),n.add(e)}function r(e){if(i())return;const n=e.target.closest("a[href]");if(!n)return;const r=n.href;o(r)&&(t=setTimeout(()=>{s(r)},65))}function a(){t&&(clearTimeout(t),t=null)}if("undefined"!=typeof window&&(window.Lenis=e,function(e=document){if(!("head"in document))return;const n="string"==typeof e?document.querySelector(e):e;n&&(n.addEventListener("mouseenter",r,{capture:!0,passive:!0}),n.addEventListener("mouseleave",a,{capture:!0,passive:!0}),n.addEventListener("touchstart",e=>{if(i())return;const n=e.target.closest("a[href]");n&&o(n.href)&&s(n.href)},{capture:!0,passive:!0}))}(),!window.lenisInstance))if(document.documentElement.classList.contains("no-lenis")||document.body&&document.body.classList.contains("no-lenis"));else if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches);else{const n=new e({lerp:.1,wheelMultiplier:1.2,infinite:!1,gestureOrientation:"vertical",normalizeWheel:!1,smoothTouch:!1,autoResize:!0,syncTouch:!1,touchMultiplier:2});window.lenisInstance=n;let t,i,o,s=null,r=null,a=null,c=null,d=null,l=null,u=null,w=null;if(void 0!==window.gsap&&window.gsap.ticker)u=window.gsap.updateRoot,n.on("scroll",u),l=e=>{n.raf(1e3*e)},window.gsap.ticker.add(l),window.gsap.ticker.lagSmoothing(0);else{let e=function(t){n.raf(t),s=requestAnimationFrame(e)};s=requestAnimationFrame(e)}const m=()=>{window.lenisInstance&&"function"==typeof window.lenisInstance.resize&&window.lenisInstance.resize()};"complete"===document.readyState?m():(r=()=>m(),window.addEventListener("load",r)),a=()=>{clearTimeout(t),t=setTimeout(m,100)},window.addEventListener("resize",a);let f=0;o=setInterval(()=>{m(),f++,f>=3&&clearInterval(o)},500),c=e=>{"IMG"===e.target.tagName&&m()},document.addEventListener("load",c,!0),d=new MutationObserver(()=>{clearTimeout(i),i=setTimeout(m,100)});const p=()=>{document.body&&(d.observe(document.body,{childList:!0,subtree:!0}),m())};document.body?p():(w=()=>p(),window.addEventListener("DOMContentLoaded",w,{once:!0})),window.lenisResize=m,window.lenisMutationObserver=d,window.lenisCleanup=()=>{r&&window.removeEventListener("load",r),a&&window.removeEventListener("resize",a),c&&document.removeEventListener("load",c,!0),w&&window.removeEventListener("DOMContentLoaded",w),d&&d.disconnect(),clearInterval(o),clearTimeout(t),clearTimeout(i),s&&cancelAnimationFrame(s),u&&"function"==typeof n.off&&n.off("scroll",u),l&&window.gsap&&window.gsap.ticker&&window.gsap.ticker.remove(l),window.lenisInstance&&"function"==typeof window.lenisInstance.destroy&&window.lenisInstance.destroy(),window.lenisInstance=null}}
